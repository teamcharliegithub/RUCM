<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	<link rel="icon" href="https://static.thenounproject.com/png/9259-200.png">
	<title>Russo-Ukraine Conflict Monitor v1.4</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <title>Password Protected Page</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #attribution {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            font-size: 0.8em;
        }
        #attribution, #attribution a {
            color: #999;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">RUCMv1.4 - Authorized Access Only</div>
                <div id="passArea">
                    <p id="passwordPrompt">Password</p>
                    <input id="pass" type="password" name="pass" autofocus>
                    <div>
                        <span id="messageWrapper">
                            <span id="invalidPass" class="error">Sorry, please try again.</span>
                            <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                            <span id="success" class="notifyText">Success!</span>
                            &nbsp;
                        </span>
                        <button id="submitPass" type="button">Submit</button>
                        <div style="clear: both;"></div>
                    </div>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>
